# GraphQL на клиентской стороне с ApolloClient 3

Workshop может дать существенный толчок в изучении GraphQL начинающим специалистам. А так же заинтересовать и опытных специалистов. Вас ждет много интересного материала простым и доступным языком.

С помощью NextJS, ApolloClient и TypeScript напишем простое клиентское приложение. В нем запросы будут собираются «снизу-вверх» через GraphQL-фрагменты. Построить грамотный DX, будем использовать генерацию тайп дефинишенов и проверять код статическим анализом. Именно так, как это похожим образом делает Фейсбук с Relay Modern. NextJS поможет нам со сборкой приложения и Server Side Rendering.

Воркшоп проводят:
- Павел Черторогов – один из ведущих специалистов по GraphQL, который работает с ним больше 4-х лет и сделал более 15 докладов про данную технологию.
- Алексей Золотых – teamlead Infobip, член программного коммитета HolyJS, спикер и самый крупный фронтендер.

## Программа воркшопа 2го дня:

1) Знакомство со стеком
- React, React Hooks, ant-design
- NextJS: Разработка, Роутинг, Сборка, SSR
- Пишем болванку приложения с mock-страницами
- Пишем GraphQL-запросы руками
  - GraphiQL, GraphQL Playground, Altair, Insomnia
  - интроспекция, документация
  - query, mutation, subscription
  - поля, аргументы
  - алиасы полей
  - переменные
- В болванку приложения тянем данные из GraphQL через обычный fetch
  - дать ссылки на умные-fetch обертки для GraphQL
- Настройка VSCode
  - Настраиваем eslint для проверки GraphQL-запросов
  - Плагин GraphQL for VSCode Apollo GraphQL

2) Чтение данные с GraphQL-сервера через ApolloClient
- Вводная презентация по Архитектуре Apollo
  - Network Layer (HttpLink)
  - Нормализованный Store (InMemoryCache)
- Настраиваем ApolloClient
  - Делаем запрос на сервер напрямую через ApolloClient
  - Что такое graphql-tag, оптимизация через babel-macros
  - Настройка Store через type & field policies.
- Настраиваем SSR для ApolloClient в NextJS
- Написание простого запроса на получение данных
  - <Query>, useQuery(), useLazyQuery()
  - Женим роутинг и GraphQL-запросы
  - Пишем свой React-хук для пагинации и роутинга
- GraphQL-фрагменты
  - Вводная презентация по фрагметной модели
  - Разбиваем страницу на компоненты и фрагменты
  - Статическая типизация через дженерики (в хуках, или TypedQuery)
  - Проверям статическую типизацию
    - Просим несуществующие поля
    - Меняем запрос/фрагмент
    - "Ломаем" сервер по заявкам трудящихся (меняем схему)

3) Изменение данных на GraphQL-сервере через ApolloClient
- Мутации
  - <Mutation>, useMutation()
  - Как мутации меняют данные в нормализованном сторе
- Подписки
  - Обновляем данные по таймауту через polling (недоподписки)
  - <Subscription>, useSubscription()

4) Разное
- Аутентификация и авторизация
- Обработка ошибок
- RestQL курильщика, и "волосатый" GraphQL нормального человека
- Правила построения GraphQL-схем
